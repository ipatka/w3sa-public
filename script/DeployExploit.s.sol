// SPDX-License-Identifier: UNLICENSED
pragma solidity 0.8.15;

import "forge-std/Script.sol";

import {Exploiter} from "../src/Exploiter.sol";
import {IPoolAddressesProvider} from "../lib/aave-v3-core/contracts/interfaces/IPoolAddressesProvider.sol";
import {CometMainInterface} from "../lib/comet/contracts/CometMainInterface.sol";

contract Deploy is Script {
    function run() external {
        uint256 deployerPrivateKey = vm.envUint("PRIVATE_KEY");

        IPoolAddressesProvider provider = IPoolAddressesProvider(
            vm.envAddress("AAVE_POOL_ADDRESS_PROVIDER")
        );
        address weth = vm.envAddress("WETH");
        address usdc = vm.envAddress("USDC");
        address cometAddress = vm.envAddress("CUSDC");
        address router = vm.envAddress("UNISWAP");

        vm.startBroadcast(deployerPrivateKey);

        new Exploiter(provider, weth, usdc, cometAddress, router);

        vm.stopBroadcast();
    }
}
